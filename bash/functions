#!/bin/bash
################
# SH FUNCTIONS #
################

mkcd()
{
	mkdir -p "$*"
	cd "$*"
}

vw()
{
	vim `which "$1"`
}

cmd_exists() {
	if command -v $1 >/dev/null 2>&1; then
		return 0
	fi
	return 1
}

uu() {
	if [ $(id -u) != 0 ] && cmd_exists sudo; then
		prefix='sudo'
	else
		prefix=''
	fi
	cmd_exists apt && $prefix apt update && $prefix apt upgrade $* && return 0
	cmd_exists  apt-get && $prefix apt-get update && $prefix apt-get upgrade $* && return 0
	cmd_exists dnf && $prefix dnf upgrade --refresh $* && return 0
	cmd_exists pacman && $prefix pacman -Syu $* && return 0

	echo No known package manager found. Aborting. >2
	return 1
}

casm()
{
	nasm -f elf64 "$1" -o /tmp/casm.o
	ld -dynamic-linker /lib64/ld-linux-x86-64.so.2 /tmp/casm.o \
		-o ${2:-a.out} -lc
}
