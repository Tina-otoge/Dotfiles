#!/bin/bash
#########################
# ENVIRONMENT VARIABLES #
#########################

if [ -d ~/.secrets ]; then
	for file in ~/.secrets/*; do
		include "$file"
	done
fi

alias egrep >/dev/null 2>&1 && unalias egrep

# Add paths to PATH here
pathmunge '/var/lib/snapd/snap/bin'
pathmunge "$HOME"'/.local/share/npm/bin'
pathmunge "$HOME"'/.local/bin'
pathmunge "$HOME"'/.opam/default/bin'
pathmunge "$HOME"'/Repositories/skielred/Dotfiles-scripts/bin'

if ! echo $XDG_DATA_DIRS | "$(which egrep)" -q "(^|:)$HOME/.local/share($|:)"; then
	XDG_DATA_DIRS="$HOME"'/.local/share:'$XDG_DATA_DIRS
fi

export WINEDLLPATH="$HOME"'/.local/lib/wine/bin32:'"$HOME"'/.local/lib/wine/bin64:'$WINEDLLPATH
export WINEDEBUG='fixme-all,'"$WINEDEBUG"



# USER VARIABLES
# Use lowercase here

export config="$HOME"'/.config'
export vimhome="$config"'/vim'
export dotfiles="$HOME"'/Repositories/skielred/Dotfiles'

## SYSTEM VARIABLES
## Use uppercase here

export HISTFILE=~/.history

export EDITOR=vim
# Page format for man(1)
export MANWIDTH=80
# Avoid creating an history file when using less(1)
export LESSHISTFILE=-
# dotnet core telemetry optout
export DOTNET_CLI_TELEMETRY_OPTOUT=1

[[ -d "/system/app/" && -d "/system/priv-app" ]] && export ANDROID=1

if [ "$ANDROID" ]; then
	export PREFIX="$(sh -c 'echo $PREFIX')"
fi

if cmd_exists fd; then
	export FZF_DEFAULT_COMMAND='fd --type f --hidden --exclude ".git/*"'
fi

# Colors for ls(1)
eval $(dircolors)
export LS_COLORS="$LS_COLORS"'tw=01;34;40:ow=01;34;40:st=01;34;40:'


settitle()
{
	printf "\033]0;%s\007" "$1"
}

settitle "$TERM"

unset settitle
